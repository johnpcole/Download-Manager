#!/bin/sh
echo "============================================================================================"
echo "Getting Download-Manager, version $1, and placing in local folder $2"
echo "============================================================================================"
echo " ============================================================================================"
echo "  ============================================================================================"
echo "   Setting up Application folder $2"
echo "  ============================================================================================"
echo " ============================================================================================"
echo "============================================================================================"
mkdir --verbose /home/pi/$2
echo "============================================================================================"
mkdir --verbose /home/pi/$2/data
echo "============================================================================================"
rm --verbose -r /home/pi/GETGITDOWNLOADTEMP
echo "============================================================================================"
rm --verbose -r /home/pi/$2/codebase
echo "============================================================================================"
rm --verbose -r /home/pi/$2/webassets
echo "============================================================================================"
rm --verbose *.py
echo "============================================================================================"
echo " ============================================================================================"
echo "  ============================================================================================"
echo "   Setting up temporary unzipping folder and getting package"
echo "  ============================================================================================"
echo " ============================================================================================"
echo "============================================================================================"
mkdir --verbose /home/pi/GETGITDOWNLOADTEMP
echo "============================================================================================"
cd /home/pi/GETGITDOWNLOADTEMP
echo "============================================================================================"
wget https://github.com/johnpcole/Download-Manager/archive/$1.zip
echo "============================================================================================"
unzip $1.zip
echo "============================================================================================"
rm --verbose /home/pi/GETGITDOWNLOADTEMP/Download-Manager-$1/*.sh
echo "============================================================================================"
echo " ============================================================================================"
echo "  ============================================================================================"
echo "   Copying Application to Application folder $2"
echo "  ============================================================================================"
echo " ============================================================================================"
echo "============================================================================================"
cp --verbose -r /home/pi/GETGITDOWNLOADTEMP/Download-Manager-$1/* /home/pi/$2/
echo "============================================================================================"
echo " ============================================================================================"
echo "  ============================================================================================"
echo "   Removing temporary unzipping folder"
echo "  ============================================================================================"
echo " ============================================================================================"
echo "============================================================================================"
rm --verbose -r /home/pi/GETGITDOWNLOADTEMP
echo "============================================================================================"
echo "Finished!"
echo "============================================================================================"
