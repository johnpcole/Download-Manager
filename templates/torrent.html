{% extends "base.html" %}

{% block javascript %}
    <script src="/static/javascript/torrent.js"></script>
{% endblock %}

{% block content %}
<div class="tile bannertile"></div>
<div>
    <input type="button" name="Stop" onclick="javascript:updateTorrent('Stop');" value="Stop" />
    <input type="button" name="Start" onclick="javascript:updateTorrent('Start');" value="Start" />
    <input type="button" name="Edit" onclick="javascript:editTorrentConfiguration();" value="Edit" />
    <input type="button" name="Save" onclick="javascript:saveTorrentConfiguration();" value="Save" />
    <input type="button" name="Copy" onclick="javascript:updateTorrent('Copy');" value="Copy" />
    <input type="button" name="Delete" onclick="javascript:updateTorrent('Delete');" value="Delete" />
</div>



<div class="tile torrenttile torrent_{{ selectedtorrent.status }}">
    <div class="titlebox titleleftextended">
        {{ selectedtorrent.torrenttitle }}
    </div><div class="titlebox titlerightextended">
        <img src="/static/images/type_{{ selectedtorrent.torrenttype }}.png" alt="{{ selectedtorrent.torrenttype }}" />
        {{ selectedtorrent.torrentsubtitle }}
    </div><div class="tilesplitter splitterextended"></div><div class="subtitlebox subtitleleftextended">
        {{ selectedtorrent.torrentname }}
    </div><div class="subtitlebox subtitlerightextended">
        <img id="Status" src="/static/images/status_{{ selectedtorrent.status }}.png" alt="{{ selectedtorrent.status }}" /><span id="Progress">{{ selectedtorrent.progress }}</span>
    </div>
</div>




<div style="display: none;">
    <div class="tilesection tilenamebanner">
        <p id="Sanitisedname">{{ selectedtorrent.sanitisedname }}</p>
    </div><div class="editfields">
        <div class="tilesection filespacer"></div>
        <input type="button" name="MakeUnknown" onclick="javascript:changeTorrentType('unknown');" value="Unknown"/>
        <input type="button" name="MakeMovie" onclick="javascript:changeTorrentType('movie');" value="Movie" />
        <input type="button" name="MakeTVShow" onclick="javascript:changeTorrentType('tvshow');" value="TV Show" />
        <div class="tvshowonlyfields">
            <select name="tvshowselector" onchange="javascript:updateTVShowSeasons('');">
                {% for tvshowitem in tvshowlist %}
                <option value="{{ tvshowitem }}">{{ tvshowitem }}</option>
                {% endfor %}
            </select>
            <input type="button" name="AddTVShow" onclick="javascript:ConfigureTVShow('AddShow');" value="New Show" />
            <select name="tvshowseasonselector"></select>
            <input type="button" name="AddShowSeason" onclick="javascript:ConfigureTVShow('AddSeason');" value="New Season" />
        </div><div class="movieonlyfields">
            <input type="text" name="moviename" value="" />
            <input type="text" name="movieyear" value="" />
        </div>
    </div>
</div>

{% for fileitem in selectedtorrent.files %}<div class="tile headlinetile">
    <div class="titlebox titlefullwidth">
        qwreqwre{{ fileitem.episode }}
        <img src="/static/images/type_unknown.png" alt="unknown" />
    </div><div class="tilesplitter splitterline"></div><div class="subtitlebox fileleft">
        {{ fileitem.shortpath }}
    </div><div class="subtitlebox fileright">
        <img src="/static/images/filetype_{{ fileitem.filetype }}.png" alt="{{ fileitem.filetype }}" />
        {{ fileitem.size }}
    </div>




    {% if fileitem.filetype != "NONE" %}

    <div style="display: none;" class="editfields">
        <div class="tvshowonlyfields movieonlyfields">
            <input type="button" name="designateignore-{{ fileitem.fileid }}" onclick="javascript:changeFileDesignation('{{ fileitem.fileid }}','unknown');" value="Dont Copy"/>
        </div><div class="tvshowonlyfields">
            <input type="button" name="designateepisode-{{ fileitem.fileid }}" onclick="javascript:changeFileDesignation('{{ fileitem.fileid }}','movie');" value="Episode" />
            <input type="button" name="designatespecial-{{ fileitem.fileid }}" onclick="javascript:changeFileDesignation('{{ fileitem.fileid }}','tvshow');" value="Special" />
        </div><div class="movieonlyfields">
            <input type="button" name="designatefilm-{{ fileitem.fileid }}" onclick="javascript:changeFileDesignation('{{ fileitem.fileid }}','film');" value="Film"/>
        </div>
        <div class="tvshowonlyfields movieonlyfields">
            <select name="episodeselector-{{ fileitem.fileid }}" class="episodeselector"></select>

            {% if fileitem.filetype == "SUBTITLE" %}

            <select name="subtitleselector-{{ fileitem.fileid }}">
                <option value="Primary">Primary</option>
                <option value="English">English</option>
                <option value="SDH">SDH</option>
                <option value="SDH_English">SDH-English</option>
            </select>

            {% endif %}

        </div>
    </div>

    {% endif %}
</div>{% endfor %}

{% endblock %}


                    <!--<img class="tilesubicon" src="/static/images/movie.png" alt="movie" />
                    <label class="switch"><input type="checkbox" name="torrenttypeswitch"><div class="slider round"></div></label>
                    <img class="tilesubicon" src="/static/images/tvshow.png" alt="tvshow" />-->

