{% extends "base.html" %}

{% block javascript %}
    <script src="./static/javascript/torrent.js"></script>
{% endblock %}

{% block content %}
<div class="tile bannertile"></div>
<div>
    <input type="button" name="Stop" onclick="javascript:updateTorrent('Stop');" value="Stop" />
    <input type="button" name="Start" onclick="javascript:updateTorrent('Start');" value="Start" />
    <input type="button" name="Edit" onclick="javascript:editTorrentConfiguration();" value="Edit" />
    <input type="button" name="Save" onclick="javascript:saveTorrentConfiguration();" value="Save" />
    <input type="button" name="Copy" onclick="javascript:updateTorrent('Copy');" value="Copy" />
    <input type="button" name="Delete" onclick="javascript:updateTorrent('Delete');" value="Delete" />
</div>



<div class="tile torrenttile torrent_{{ selectedtorrent.status }}">
    <div class="titlebox titleleftextended readonlyfields">
        <span id="TorrentTitle">{{ selectedtorrent.torrenttitle }}</span>
    </div><div class="titlebox titlerightextended readonlyfields">
        <img id="TorrentType" src="./static/images/type_{{ selectedtorrent.torrenttype }}.png" alt="{{ selectedtorrent.torrenttype }}" />
        <span id="TorrentSubtitle">{{ selectedtorrent.torrentsubtitle }}</span>
    </div>
    <div class="editmodefields">
        <div class="buttongroup">
            <button type="button" id="MakeUnknown" onclick="javascript:changeTorrentType('unknown');">
                <img src="./static/images/type_unknown.png" alt="unknown button" />
            </button><button type="button" id="MakeMovie" onclick="javascript:changeTorrentType('movie');">
                <img src="/static/images/type_movie.png" alt="movie button" />
            </button><button type="button" id="MakeTVShow" onclick="javascript:changeTorrentType('tvshow');">
                <img src="/static/images/type_tvshow.png" alt="tv show button" />
            </button>
        </div><div class="unknownonlyfields"><span class="fieldlabel">New Unspecified Torrent</span></div><div class="tvshowonlyfields">
            <span class="fieldlabel">TV Show:</span><select class="tvshownamefield" name="tvshowselector" onchange="javascript:updateTVShowSeasons('');">
                {% for tvshowitem in tvshowlist %}
                <option value="{{ tvshowitem }}">{{ tvshowitem }}</option>
                {% endfor %}
            </select><span class="fieldlabel">Season:</span><select class="tvshowseasonfield" name="tvshowseasonselector"></select>
        </div><div class="movieonlyfields">
            <span class="fieldlabel">Film:</span><input type="text" name="moviename" value="" class="movienamefield" /><span class="fieldlabel">Year:</span><input type="text" name="movieyear" value="" class="movieyearfield" />
        </div>
    </div>
    <div class="tilesplitter splitterextended"></div><div class="subtitlebox subtitleleftextended">
        {{ selectedtorrent.torrentname }}
    </div><div class="subtitlebox subtitlerightextended">
        <img id="Status" src="./static/images/status_{{ selectedtorrent.status }}.png" alt="{{ selectedtorrent.status }}" /><span id="Progress">{{ selectedtorrent.progress }}</span>
    </div>
</div>


            <!--<input type="button" name="AddTVShow" onclick="javascript:ConfigureTVShow('AddShow');" value="New Show" />
            <input type="button" name="AddShowSeason" onclick="javascript:ConfigureTVShow('AddSeason');" value="New Season" />-->




{% for fileitem in selectedtorrent.files %}<div class="tile headlinetile file_all">
    <div class="titlebox titlefullwidth readonlyfields">
        qwreqwre{{ fileitem.episode }}
        <img src="./static/images/type_unknown.png" alt="unknown" />
    </div>
    <div class="editmodefields">{% if fileitem.filetype == "NONE" %}<div class="titlebox titlefullwidth buttongroupequivalent">Ignored File</div>
        {% else %}<div class="buttongroup">
            <button type="button" id="MakeIgnore-{{ fileitem.fileid }}" onclick="javascript:changeFileDesignation('{{ fileitem.fileid }}','ignore');">
                <img src="./static/images/fileaction_ignore.png" alt="ignore button" />
            </button><button type="button" id="MakeCopy-{{ fileitem.fileid }}" onclick="javascript:changeFileDesignation('{{ fileitem.fileid }}','copy');">
                <img src="./static/images/fileaction_copy.png" alt="copy button" />
            </button>
        </div><div class="ignoreonlyfields" id="ignoreconfig-{{ fileitem.fileid }}"><span class="fieldlabel">Ignored File</span>
        </div><div class="copyonlyfields" id="copyconfig-{{ fileitem.fileid }}">
            <div class="tvshowonlyfields"><span class="fieldlabel">Episode:</span><select name="episodeselector-{{ fileitem.fileid }}" class="fileepisode">
                {% for selectoritem in selectedtorrent.enumerations.episodes %}
                <option value="{{ selectoritem }}">{{ selectoritem }}</option>
                {% endfor %}
                {% for selectoritem in selectedtorrent.enumerations.doubleepisodes %}
                <option value="{{ selectoritem }}">{{ selectoritem }}</option>
                {% endfor %}
                {% for selectoritem in selectedtorrent.enumerations.specials %}
                <option value="{{ selectoritem }}">{{ selectoritem }}</option>
                {% endfor %}
            </select></div>{% if fileitem.filetype == "SUBTITLE" %}<div class="tvshowonlyfields movieonlyfields"><span class="fieldlabel">Subtitle:</span><select name="subtitleselector-{{ fileitem.fileid }}" class="filesubtitle">
                {% for selectoritem in selectedtorrent.enumerations.subtitles %}
                <option value="{{ selectoritem }}">{{ selectoritem }}</option>
                {% endfor %}
            </select></div>{% endif %}
    </div>{% endif %}</div><div class="tilesplitter splitterline"></div><div class="subtitlebox fileleft">
        {{ fileitem.shortpath }}
    </div><div class="subtitlebox fileright">
        <img src="./static/images/filetype_{{ fileitem.filetype }}.png" alt="{{ fileitem.filetype }}" />{{ fileitem.size }}
    </div>
</div>{% endfor %}

{% endblock %}


                    <!--<img class="tilesubicon" src="./static/images/movie.png" alt="movie" />
                    <label class="switch"><input type="checkbox" name="torrenttypeswitch"><div class="slider round"></div></label>
                    <img class="tilesubicon" src="./static/images/tvshow.png" alt="tvshow" />-->

